---
// src/pages/calculators/color-picker/[hex].astro
import Layout from "../../../layouts/Layout.astro";
import GpaLayout from "../../../components/GpaLayout";
import ColorPicker from "../../../components/ColorPicker";
import ColorContrast from "../../../components/ColorContrast";
import ColorHarmonies from "../../../components/ColorHarmonies";
import ColorVariations from "../../../components/ColorVariations";

export async function getStaticPaths() {
  // Pre-generate pages for common colors
  const commonColors = [
    { hex: "0ea5e9", name: "Blue" },
    { hex: "10b981", name: "Green" },
    { hex: "ef4444", name: "Red" },
    { hex: "f59e0b", name: "Yellow" },
    { hex: "8b5cf6", name: "Purple" },
  ];

  return commonColors.map((color) => ({
    params: { hex: color.hex },
    props: {
      colorName: color.name,
      hex: `#${color.hex}`,
      isCommon: true,
    },
  }));
}

const { hex, colorName, isCommon } = Astro.props;
const hexWithoutHash = hex.substring(1);

const title = `${colorName || "Color"} #${hexWithoutHash} - Color Codes & Palette Generator`;
const description = `Explore ${colorName ? `${colorName.toLowerCase()} color` : `color #${hexWithoutHash}`} with our free color tool. Get HEX, RGB, HSL codes, check accessibility, and generate beautiful color palettes.`;
const keywords = `${colorName ? `${colorName.toLowerCase()} color code, ` : ""}hex code ${hex}, color picker ${hexWithoutHash}, color codes, rgb colors, color palette generator`;

// Related colors for navigation
const relatedColors = [
  { name: "Blue", hex: "#0ea5e9" },
  { name: "Green", hex: "#10b981" },
  { name: "Red", hex: "#ef4444" },
  { name: "Yellow", hex: "#f59e0b" },
  { name: "Purple", hex: "#8b5cf6" },
].filter((color) => color.hex !== hex);
---

<Layout
  title={title}
  description={description}
  keywords={keywords}
  currentUrl={Astro.url.pathname}
  ogImage={`/color-picker-og.png`}
>
  <GpaLayout client:load {title} {description} {keywords}>
    <div class="space-y-12">
      {/* Hero Section */}
      <div
        class="bg-surface-light dark:bg-surface-dark-hover rounded-2xl border border-gray-200/10 dark:border-gray-800/10 overflow-hidden"
      >
        <div
          class="bg-gradient-to-r from-accent-primary/10 to-accent-secondary/10 p-1 md:p-8"
        >
          <div class="text-center mb-8">
            <h1 class="text-4xl font-display font-bold mb-2">
              Color #{hexWithoutHash}
            </h1>
            {
              isCommon && (
                <p class="text-content-light-dimmed dark:text-content-dark-dimmed">
                  Standard {colorName.toLowerCase()} color code for web and
                  design
                </p>
              )
            }
          </div>
          <ColorPicker client:load defaultColor={hex} />
        </div>
      </div>

      {/* Usage Examples */}
      <div class="bg-surface-light dark:bg-surface-dark-hover rounded-xl p-6">
        <h2 class="text-2xl font-display font-bold mb-6">Usage Examples</h2>
        <div class="grid md:grid-cols-2 gap-8">
          {/* CSS Examples */}
          <div>
            <h3 class="font-display text-xl font-semibold mb-4">CSS</h3>
            <div class="space-y-4">
              <pre
                class="bg-surface-light-hover dark:bg-surface-dark p-4 rounded-lg overflow-x-auto">
                <code>{
`.element {
  color: ${hex};
  background-color: ${hex};
  border: 2px solid ${hex};
}`
                }</code>
              </pre>
              <div class="space-y-2">
                <div class="p-4 rounded-lg" style={`background-color: ${hex}`}>
                  <div class="text-white">Light text on color</div>
                  <div class="text-black">Dark text on color</div>
                </div>
                <div class="p-4 rounded-lg bg-white dark:bg-gray-900">
                  <div style={`color: ${hex}`}>Colored text on background</div>
                </div>
              </div>
            </div>
          </div>

          {/* Tailwind Examples */}
          <div>
            <h3 class="font-display text-xl font-semibold mb-4">
              Tailwind CSS
            </h3>
            <pre
              class="bg-surface-light-hover dark:bg-surface-dark p-4 rounded-lg overflow-x-auto">
              <code>{
`module.exports = {
  theme: {
    extend: {
      colors: {
        custom: '${hex}'
      }
    }
  }
}`
              }</code>
            </pre>
          </div>
        </div>
      </div>

      {/* Related Colors */}
      <div class="bg-surface-light dark:bg-surface-dark-hover rounded-xl p-6">
        <h2 class="text-2xl font-display font-bold mb-6">Related Colors</h2>
        <div class="grid md:grid-cols-4 gap-4">
          {
            relatedColors.map((color) => (
              <a
                href={`/calculators/color-picker/${color.hex.substring(1)}`}
                class="p-4 bg-surface-light-hover dark:bg-surface-dark rounded-lg hover:shadow-md transition-all"
              >
                <div
                  class="w-full h-12 rounded-lg mb-2"
                  style={`background-color: ${color.hex}`}
                />
                <div>
                  <div class="font-medium">{color.name}</div>
                  <div class="font-mono text-sm text-content-light-dimmed dark:text-content-dark-dimmed">
                    {color.hex}
                  </div>
                </div>
              </a>
            ))
          }
        </div>
      </div>

      {/* Technical Details */}
      <div class="bg-surface-light dark:bg-surface-dark-hover rounded-xl p-6">
        <h2 class="text-2xl font-display font-bold mb-6">
          Technical Information
        </h2>
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
          {/* Color Formats */}
          <div class="space-y-2">
            <h3 class="font-display text-lg font-semibold mb-3">
              Color Formats
            </h3>
            <div
              class="p-3 bg-surface-light-hover dark:bg-surface-dark rounded-lg"
            >
              <div
                class="text-sm text-content-light-dimmed dark:text-content-dark-dimmed"
              >
                HEX
              </div>
              <div class="font-mono">{hex}</div>
            </div>
            <div
              class="p-3 bg-surface-light-hover dark:bg-surface-dark rounded-lg"
            >
              <div
                class="text-sm text-content-light-dimmed dark:text-content-dark-dimmed"
              >
                RGB
              </div>
              <div class="font-mono">rgb(14, 165, 233)</div>
            </div>
            <div
              class="p-3 bg-surface-light-hover dark:bg-surface-dark rounded-lg"
            >
              <div
                class="text-sm text-content-light-dimmed dark:text-content-dark-dimmed"
              >
                HSL
              </div>
              <div class="font-mono">hsl(199, 89%, 48%)</div>
            </div>
          </div>

          {/* Browser Support */}
          <div>
            <h3 class="font-display text-lg font-semibold mb-3">
              Browser Support
            </h3>
            <ul
              class="space-y-2 text-content-light-dimmed dark:text-content-dark-dimmed"
            >
              <li>• Supported in all modern browsers</li>
              <li>• Compatible with CSS3 standards</li>
              <li>• Works in print and digital formats</li>
              <li>• Safe for web and mobile use</li>
            </ul>
          </div>

          {/* Color Properties */}
          <div>
            <h3 class="font-display text-lg font-semibold mb-3">Properties</h3>
            <ul
              class="space-y-2 text-content-light-dimmed dark:text-content-dark-dimmed"
            >
              <li>• Web safe: Yes</li>
              <li>• Transparency: Supported</li>
              <li>• CSS Variable compatible</li>
              <li>• Print-friendly format</li>
            </ul>
          </div>
        </div>
      </div>

      {/* SEO Content */}
      <div
        class="bg-surface-light dark:bg-surface-dark-hover rounded-xl p-6 prose prose-blue dark:prose-invert max-w-none"
      >
        <h2>About This Color</h2>
        <p>
          {colorName ? `${colorName} (${hex})` : `Color ${hex}`} is a versatile color
          that can be used in various design contexts. Whether you're designing for
          web, print, or digital applications, this color provides excellent contrast
          and visibility.
        </p>

        <h3>Common Uses</h3>
        <ul>
          <li>Web design and user interfaces</li>
          <li>Branding and logo design</li>
          <li>Digital marketing materials</li>
          <li>Print media and publications</li>
        </ul>

        <h3>Accessibility Considerations</h3>
        <p>
          When using this color, consider the contrast ratio for text
          readability. The color should maintain a contrast ratio of at least
          4.5:1 for normal text and 3:1 for large text to meet WCAG 2.1 AA
          standards.
        </p>

        <h3>Color Psychology</h3>
        <p>
          {
            colorName &&
              colorName === "Blue" &&
              "Blue often represents trust, stability, and professionalism."
          }
          {
            colorName &&
              colorName === "Green" &&
              "Green typically symbolizes growth, nature, and harmony."
          }
          {
            colorName &&
              colorName === "Red" &&
              "Red often signifies energy, passion, and urgency."
          }
          {
            colorName &&
              colorName === "Yellow" &&
              "Yellow usually represents optimism, creativity, and warmth."
          }
          {
            colorName &&
              colorName === "Purple" &&
              "Purple traditionally symbolizes royalty, luxury, and creativity."
          }
        </p>
      </div>
    </div>
  </GpaLayout>
</Layout>
